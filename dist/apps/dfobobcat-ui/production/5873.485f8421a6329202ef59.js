(self.webpackChunkdfobobcat=self.webpackChunkdfobobcat||[]).push([[5873],{5873:(s,t,o)=>{"use strict";o.r(t),o.d(t,{RestorePasswordModule:()=>b});var n=o(2057),e=o(3738),i=o(3498),r=o(5967),c=o(8535),a=o(4705),u=o(7422),p=o(793),d=o(4694);function l(s,t){if(1&s){const s=p.EpF();p.TgZ(0,"ion-icon",7),p.NdJ("click",function(){return p.CHM(s),p.oxw().switchPasswordVisible()}),p.qZA()}}function h(s,t){if(1&s){const s=p.EpF();p.TgZ(0,"ion-icon",8),p.NdJ("click",function(){return p.CHM(s),p.oxw().switchPasswordVisible()}),p.qZA()}}const g=[{path:"",component:(()=>{class s{constructor(s,t,o,n,i,r){this.fb=s,this.forgotPasswordGQL=t,this.restorePasswordGQL=o,this.alertService=n,this.route=i,this.router=r,this.token="",this.form=this.fb.group({password:["",[e.kI.required]]}),this.passwordType="password",this.showPassword=!1}ngOnInit(){this.route.queryParams.subscribe(s=>{s.token?this.token=s.token:this.router.navigate(["/"])})}submit(){this.form.invalid||this.restorePasswordGQL.mutate({token:this.token,newPassword:this.form.value.password}).subscribe(()=>{this.router.navigate(["/auth","login"]),this.alertService.show({message:"Successfully updated password. Please log in using new password."}).subscribe()})}switchPasswordVisible(){this.passwordType="text"===this.passwordType?"password":"text",this.showPassword=!this.showPassword}}return s.\u0275fac=function(t){return new(t||s)(p.Y36(e.qu),p.Y36(a.xe),p.Y36(a.Eg),p.Y36(u.c9),p.Y36(c.gz),p.Y36(c.F0))},s.\u0275cmp=p.Xpm({type:s,selectors:[["bc-restore-password"]],decls:11,vars:5,consts:[["action","",3,"submit"],["enterkeyhint","send","theme","light","placeholder","Your password",3,"type","control","label","keyup.enter"],["class","eye-icon","src","/assets/icon/eye-opened.svg",3,"click",4,"ngIf"],["class","eye-icon","src","/assets/icon/eye-closed.svg",3,"click",4,"ngIf"],[2,"flex","1 0 auto"],["type","submit","expand","block","size","large","shape","round",1,"main-action-btn"],["slot","start","src","/assets/icon/send.svg"],["src","/assets/icon/eye-opened.svg",1,"eye-icon",3,"click"],["src","/assets/icon/eye-closed.svg",1,"eye-icon",3,"click"]],template:function(s,t){1&s&&(p.TgZ(0,"h1"),p._uU(1,"Forgot password"),p.qZA(),p.TgZ(2,"form",0),p.NdJ("submit",function(){return t.submit()}),p.TgZ(3,"bc-input",1),p.NdJ("keyup.enter",function(){return t.submit()}),p.YNc(4,l,1,0,"ion-icon",2),p.YNc(5,h,1,0,"ion-icon",3),p.qZA(),p._UZ(6,"div",4),p.TgZ(7,"ion-button",5),p._UZ(8,"ion-icon",6),p.TgZ(9,"span"),p._uU(10,"send"),p.qZA(),p.qZA(),p.qZA()),2&s&&(p.xp6(3),p.Q6J("type",t.passwordType)("control",t.form.controls.password)("label","Password"),p.xp6(1),p.Q6J("ngIf",t.showPassword),p.xp6(1),p.Q6J("ngIf",!t.showPassword))},directives:[e._Y,e.JL,e.F,d.am,n.O5,i.YG,i.gu],styles:["[_nghost-%COMP%]{background-color:transparent;display:flex;flex-direction:column;height:100%}form[_ngcontent-%COMP%]{min-height:100%;display:flex;padding:16px 0 39px;flex-direction:column}form[_ngcontent-%COMP%]   bc-input[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:35px;display:block}h1[_ngcontent-%COMP%]{margin-bottom:27px}ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:28px}ion-button[type=submit][_ngcontent-%COMP%]{font-weight:500}ion-button[type=submit][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:-5px}.main-action-btn[_ngcontent-%COMP%]{margin-top:48px}"]}),s})()}];let w=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[c.Bz.forChild(g)],c.Bz]}),s})(),b=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[[n.ez,e.u5,i.Pc,r.C,w]]}),s})()}}]);