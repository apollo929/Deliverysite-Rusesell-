(self.webpackChunkdfobobcat=self.webpackChunkdfobobcat||[]).push([[9957],{9957:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ReportModule:()=>$t});var o=n(8535),i=n(9765),r=n(6215),a=n(739),c=n(7586),s=n(5257),d=n(7519),l=n(6782),p=n(3342),u=n(4612),h=n(8002),g=n(4705);const f=t=>{const e=6e4*(new Date).getTimezoneOffset();return new Date(t-e).toISOString()};var x=n(6738),m=n(2896),b=n(793),w=n(3738),_=n(6099),Z=n(2057),k=n(4762),v=n(1786),C=n(3498),O=n(4694);const y=["datepickerWrapper"],D=["dateInput"];let P=(()=>{class t{constructor(t,e,n){this.animationCtrl=t,this.renderer=e,this.elRef=n,this.label="Pick a date",this.datePickerConfig={firstDayOfWeek:"mo",opens:"left",format:"MMM D, dddd",hideOnOutsideClick:!1,closeOnSelect:!1},this.selectedDate=x(),this.currentMonth=x(),this.datePickerOpened=!1,this.selected=new b.vpe}moveDatePickerToPrev(){this.datePicker.api.moveCalendarTo(this.currentMonth=x(this.currentMonth).subtract(1,"month"))}moveDatePickerToNext(){this.datePicker.api.moveCalendarTo(this.currentMonth=x(this.currentMonth).add(1,"month"))}openDatepicker(){return(0,k.mG)(this,void 0,void 0,function*(){this.datePickerOpened||(this.datePicker.api.open(),setTimeout(()=>{this.renderer.setStyle(this.datePickerWrap.nativeElement,"display","block"),this.datePickerOpened=!0}))})}closeDatepicker(){return(0,k.mG)(this,void 0,void 0,function*(){this.datePickerOpened&&(this.renderer.setStyle(this.datePickerWrap.nativeElement,"display","none"),this.datePicker.api.close(),this.datePickerOpened=!1)})}dateSelected(t){return(0,k.mG)(this,void 0,void 0,function*(){this.control.setValue(t.date.format("MMM D, dddd"));const e=t.date.toDate(),n=6e4*(new Date).getTimezoneOffset(),o=new Date(e-n).toISOString();this.selected.emit(o),yield this.closeDatepicker()})}get currentMonthTitle(){return this.currentMonth.format("MMMM")}onOutsideClick(t){this.elRef.nativeElement.contains(t.target)||this.closeDatepicker()}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(C.vB),b.Y36(b.Qsj),b.Y36(b.SBq))},t.\u0275cmp=b.Xpm({type:t,selectors:[["bc-datepicker-dropdown"]],viewQuery:function(t,e){if(1&t&&(b.Gf(y,5,b.SBq),b.Gf(D,5,b.SBq),b.Gf(v.Lr,5)),2&t){let t;b.iGM(t=b.CRH())&&(e.datePickerWrap=t.first),b.iGM(t=b.CRH())&&(e.dateInput=t.first),b.iGM(t=b.CRH())&&(e.datePicker=t.first)}},hostBindings:function(t,e){1&t&&b.NdJ("click",function(t){return e.onOutsideClick(t)},!1,b.evT)},inputs:{control:"control",label:"label",placeholder:"placeholder"},outputs:{selected:"selected"},decls:19,vars:9,consts:[["theme","dark",3,"control","readonly","label","inputBackground","placeholder","cursorPointer","click"],["dateInput",""],["src","/assets/icon/calendar.svg",1,"input-icon"],[1,"datepicker-wrapper"],["datepickerWrapper",""],[1,"datepicker-header"],[1,"prev",3,"click"],["width","24","height","24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.363 17a.996.996 0 01-.72-.305l-3.862-4a1 1 0 01.013-1.402l4-4a.999.999 0 111.413 1.414l-3.305 3.305 3.18 3.293a1 1 0 01-.72 1.695z","fill","#CFD8DC"],["id","a","maskUnits","userSpaceOnUse","x","8","y","7","width","7","height","11"],["d","M13.363 17a.996.996 0 01-.72-.305l-3.862-4a1 1 0 01.013-1.402l4-4a.999.999 0 111.413 1.414l-3.305 3.305 3.18 3.293a1 1 0 01-.72 1.695z","fill","#fff"],[1,"month"],[1,"next",3,"click"],["d","M10.637 17a.996.996 0 00.72-.305l3.863-4a1 1 0 00-.014-1.402l-4-4a.999.999 0 10-1.414 1.414l3.306 3.305-3.18 3.293a1 1 0 00.72 1.695z","fill","#CFD8DC"],["id","a","maskUnits","userSpaceOnUse","x","9","y","7","width","7","height","11"],["d","M10.637 17a.996.996 0 00.72-.305l3.863-4a1 1 0 00-.014-1.402l-4-4a.999.999 0 10-1.414 1.414l3.306 3.305-3.18 3.293a1 1 0 00.72 1.695z","fill","#fff"],["theme","bc-datepicker",3,"formControl","config","onSelect"]],template:function(t,e){1&t&&(b.TgZ(0,"bc-input",0,1),b.NdJ("click",function(){return e.openDatepicker()}),b._UZ(2,"ion-icon",2),b.qZA(),b.TgZ(3,"div",3,4),b.TgZ(5,"div",5),b.TgZ(6,"div",6),b.NdJ("click",function(){return e.moveDatePickerToPrev()}),b.O4$(),b.TgZ(7,"svg",7),b._UZ(8,"path",8),b.TgZ(9,"mask",9),b._UZ(10,"path",10),b.qZA(),b.qZA(),b.qZA(),b.kcU(),b.TgZ(11,"div",11),b._uU(12),b.qZA(),b.TgZ(13,"div",12),b.NdJ("click",function(){return e.moveDatePickerToNext()}),b.O4$(),b.TgZ(14,"svg",7),b._UZ(15,"path",13),b.TgZ(16,"mask",14),b._UZ(17,"path",15),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.kcU(),b.TgZ(18,"dp-date-picker",16),b.NdJ("onSelect",function(t){return e.dateSelected(t)}),b.qZA(),b.qZA()),2&t&&(b.Q6J("control",e.control)("readonly",!0)("label",e.label)("inputBackground","#ffffff")("placeholder",e.placeholder)("cursorPointer",!0),b.xp6(12),b.Oqu(e.currentMonthTitle),b.xp6(6),b.Q6J("formControl",e.control)("config",e.datePickerConfig))},directives:[O.am,C.gu,v.Lr,w.JJ,w.oH],styles:["[_nghost-%COMP%]{position:relative;height:48px}.datepicker-wrapper[_ngcontent-%COMP%]{display:none;padding-top:22px;flex:1 1 auto;background-color:#004853;padding-left:24px;padding-right:24px;position:absolute;top:0;left:0;height:440px;width:100%;z-index:1;top:44px;border-radius:0 0 8px 8px}.datepicker-wrapper[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{cursor:pointer;width:24px;position:absolute;height:24px;top:15px}.datepicker-wrapper[_ngcontent-%COMP%]   .datepicker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:27px}.datepicker-wrapper[_ngcontent-%COMP%]   .datepicker-header[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%], .datepicker-wrapper[_ngcontent-%COMP%]   .datepicker-header[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{margin-bottom:-5px;margin-left:5px;margin-right:5px}.datepicker-wrapper[_ngcontent-%COMP%]   .datepicker-header[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:20px;line-height:24px;color:#fff}.icon-calendar[_ngcontent-%COMP%]{position:absolute;right:8px;top:14px}bc-input[_ngcontent-%COMP%]{position:absolute;z-index:1020;width:100%}bc-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var M=n(3818);function A(t,e){1&t&&(b.O4$(),b.TgZ(0,"svg",21),b._UZ(1,"path",22),b._UZ(2,"path",23),b.qZA())}function T(t,e){1&t&&(b.O4$(),b.TgZ(0,"svg",21),b._UZ(1,"path",22),b._UZ(2,"path",24),b.qZA())}function $(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"li",19),b.NdJ("click",function(){const e=b.CHM(t).$implicit;return b.oxw(2).changeSorting(e.key)}),b.ALo(1,"async"),b.TgZ(2,"span"),b._uU(3),b.qZA(),b.YNc(4,A,3,0,"svg",20),b.ALo(5,"async"),b.YNc(6,T,3,0,"svg",20),b.ALo(7,"async"),b.qZA()}if(2&t){const t=e.$implicit,n=b.oxw(2);b.ekj("active",b.lcZ(1,5,n.orderBy$)===t.key),b.xp6(3),b.Oqu(t.value),b.xp6(1),b.Q6J("ngIf",b.lcZ(5,7,n.orderDirection$)===n.ORDER_DIRECTION.ASC),b.xp6(2),b.Q6J("ngIf",b.lcZ(7,9,n.orderDirection$)===n.ORDER_DIRECTION.DESC)}}function q(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"ID"),b.qZA())}function S(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"td",39),b.TgZ(1,"ion-icon",40),b.NdJ("click",function(){const e=b.CHM(t).$implicit;return b.oxw(3).duplicateRow(e.id)}),b.qZA(),b._uU(2),b.qZA()}if(2&t){const t=e.$implicit;b.xp6(2),b.hij(" ",t.id," ")}}function N(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Trade Name"),b.qZA())}function U(t,e){if(1&t&&(b.TgZ(0,"td",39),b._uU(1),b.qZA()),2&t){const t=e.$implicit,n=b.oxw(3);b.xp6(1),b.hij(" ",n.getStaff(t.staff)," ")}}function E(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Builder Name"),b.qZA())}function I(t,e){if(1&t&&(b.TgZ(0,"td",39),b._uU(1),b.qZA()),2&t){const t=e.$implicit;b.xp6(1),b.hij(" ",null==t||null==t.builder?null:t.builder.name," ")}}function L(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Site Address"),b.qZA())}function j(t,e){if(1&t&&(b.TgZ(0,"td",39),b._uU(1),b.qZA()),2&t){const t=e.$implicit;b.xp6(1),b.hij(" ",t.address," ")}}function F(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Stage"),b.qZA())}function R(t,e){if(1&t&&(b.TgZ(0,"td",39),b._uU(1),b.qZA()),2&t){const t=e.$implicit,n=b.oxw(3);b.xp6(1),b.hij(" ",n.getEquipment(t.equipment)," ")}}function B(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Notes"),b.qZA())}function H(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"td",39),b.TgZ(1,"ion-textarea",41),b.NdJ("ionInput",function(e){const n=b.CHM(t).$implicit;return b.oxw(3).updateNotes(e,"jobs",n.id)}),b.qZA(),b.qZA()}}function Y(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Cost"),b.qZA())}function J(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"td",39),b.TgZ(1,"ion-input",41),b.NdJ("ionInput",function(e){const n=b.CHM(t).$implicit;return b.oxw(3).updateCost(e,"jobs",n.id)}),b.qZA(),b.qZA()}}function Q(t,e){1&t&&(b.TgZ(0,"th",38),b._uU(1,"Inv No#"),b.qZA())}function z(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"td",39),b.TgZ(1,"ion-input",41),b.NdJ("ionInput",function(e){const n=b.CHM(t).$implicit;return b.oxw(3).updateInovice(e,"jobs",n.id)}),b.qZA(),b.qZA()}}function W(t,e){1&t&&b._UZ(0,"tr",42)}function X(t,e){1&t&&b._UZ(0,"tr",43)}function G(t,e){if(1&t&&(b.TgZ(0,"table",25),b.ynx(1,26),b.YNc(2,q,2,0,"th",27),b.YNc(3,S,3,1,"td",28),b.BQk(),b.ynx(4,29),b.YNc(5,N,2,0,"th",27),b.YNc(6,U,2,1,"td",28),b.BQk(),b.ynx(7,30),b.YNc(8,E,2,0,"th",27),b.YNc(9,I,2,1,"td",28),b.BQk(),b.ynx(10,31),b.YNc(11,L,2,0,"th",27),b.YNc(12,j,2,1,"td",28),b.BQk(),b.ynx(13,32),b.YNc(14,F,2,0,"th",27),b.YNc(15,R,2,1,"td",28),b.BQk(),b.ynx(16,33),b.YNc(17,B,2,0,"th",27),b.YNc(18,H,2,0,"td",28),b.BQk(),b.ynx(19,34),b.YNc(20,Y,2,0,"th",27),b.YNc(21,J,2,0,"td",28),b.BQk(),b.ynx(22,35),b.YNc(23,Q,2,0,"th",27),b.YNc(24,z,2,0,"td",28),b.BQk(),b.YNc(25,W,1,0,"tr",36),b.YNc(26,X,1,0,"tr",37),b.qZA()),2&t){const t=b.oxw(2);b.Q6J("dataSource",t.dataSource$),b.xp6(25),b.Q6J("cdkHeaderRowDef",t.displayedColumns),b.xp6(1),b.Q6J("cdkRowDefColumns",t.displayedColumns)}}function K(t,e){if(1&t&&(b.TgZ(0,"span"),b._uU(1),b.qZA()),2&t){const t=e.$implicit;b.xp6(1),b.hij(" ",t.name,",")}}function V(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"tr"),b.TgZ(1,"td",47),b._uU(2),b.qZA(),b.TgZ(3,"td",48),b.YNc(4,K,2,1,"span",46),b.qZA(),b.TgZ(5,"td",49),b._uU(6),b.qZA(),b.TgZ(7,"td",50),b._uU(8),b.qZA(),b.TgZ(9,"td",51),b.TgZ(10,"ion-textarea",52),b.NdJ("ionInput",function(e){const n=b.CHM(t).index;return b.oxw(3).updateStages(e,"extra",n.toString())}),b.qZA(),b.qZA(),b.TgZ(11,"td",53),b.TgZ(12,"ion-textarea",52),b.NdJ("ionInput",function(e){const n=b.CHM(t).index;return b.oxw(3).updateNotes(e,"extra",n.toString())}),b.qZA(),b.qZA(),b.TgZ(13,"td",54),b.TgZ(14,"ion-input",52),b.NdJ("ionInput",function(e){const n=b.CHM(t).index;return b.oxw(3).updateCost(e,"extra",n.toString())}),b.qZA(),b.qZA(),b.TgZ(15,"td",54),b.TgZ(16,"ion-input",52),b.NdJ("ionInput",function(e){const n=b.CHM(t).index;return b.oxw(3).updateInovice(e,"extra",n.toString())}),b.qZA(),b.qZA(),b.qZA()}if(2&t){const t=e.$implicit;b.xp6(2),b.hij(" ",t.id," "),b.xp6(2),b.Q6J("ngForOf",t.staff),b.xp6(2),b.hij(" ",t.builder.name," "),b.xp6(2),b.hij("",t.address," "),b.xp6(2),b.s9C("value",t.stages),b.xp6(2),b.s9C("value",t.notes),b.xp6(2),b.s9C("value",t.cost),b.xp6(2),b.s9C("value",t.inovice)}}function tt(t,e){if(1&t&&(b.TgZ(0,"div",44),b.TgZ(1,"table",45),b.YNc(2,V,17,8,"tr",46),b.qZA(),b.qZA()),2&t){const t=b.oxw(2);b.xp6(2),b.Q6J("ngForOf",t.extraData)}}function et(t,e){if(1&t){const t=b.EpF();b.ynx(0),b.TgZ(1,"div",2,3),b.TgZ(3,"div",4),b.TgZ(4,"div",5),b.TgZ(5,"ul",6),b.YNc(6,$,8,11,"li",7),b.ALo(7,"keyvalue"),b.qZA(),b.TgZ(8,"div",8),b.O4$(),b.TgZ(9,"svg",9),b.NdJ("click",function(){const e=b.CHM(t).ngIf,n=b.oxw();return e.hasPreviousPage?n.paginate$.next(n.previousPage):null}),b._UZ(10,"path",10),b._UZ(11,"path",11),b.qZA(),b.TgZ(12,"svg",12),b.NdJ("click",function(){const e=b.CHM(t).ngIf,n=b.oxw();return e.hasNextPage?n.paginate$.next(n.nextPage):null}),b._UZ(13,"path",10),b._UZ(14,"path",13),b.qZA(),b.qZA(),b.qZA(),b.kcU(),b.TgZ(15,"div",14),b.TgZ(16,"bc-datepicker-dropdown",15),b.NdJ("selected",function(e){return b.CHM(t),b.oxw().selectedDay$.next(e)}),b.qZA(),b.TgZ(17,"ion-button",16),b.NdJ("click",function(){return b.CHM(t),b.oxw().generateSpreadSheet()}),b.TgZ(18,"span"),b._uU(19,"Download"),b.qZA(),b.qZA(),b.TgZ(20,"ion-button",16),b.NdJ("click",function(){return b.CHM(t),b.oxw().printReport()}),b.TgZ(21,"span"),b._uU(22,"Print"),b.qZA(),b.qZA(),b.qZA(),b.YNc(23,G,27,3,"table",17),b.YNc(24,tt,3,1,"div",18),b.qZA(),b.qZA(),b.BQk()}if(2&t){const t=e.ngIf,n=b.oxw(),o=b.MAs(6);b.xp6(6),b.Q6J("ngForOf",b.lcZ(7,10,n.orderKeys)),b.xp6(3),b.ekj("disabled",!t.hasPreviousPage),b.xp6(3),b.ekj("disabled",!t.hasNextPage),b.xp6(4),b.Q6J("control",n.selectedDayCtrl)("label","Select day"),b.xp6(7),b.Q6J("ngIf",t.hasItems)("ngIfElse",o),b.xp6(1),b.Q6J("ngIf",n.extraData&&n.extraData.length>0)}}function nt(t,e){1&t&&b._uU(0,"There are no jobs for selected date.")}const ot=function(){return[]},it=function(t,e,n,o){return{reportItems:t,hasItems:e,hasPreviousPage:n,hasNextPage:o}};let rt=(()=>{class t{constructor(t,e,n,o){this.fb=t,this.jobsForDateGQL=e,this.jobsForDateFullListGQL=n,this.searchSerice=o,this.searchSubmit$=new i.xQ,this.dataSource$=new r.X([]),this.displayedColumns=["id","staff","builder","address","equipment","notes","cost","inv"],this.destroy$=new i.xQ,this.now=new Date,this.selectedDay$=new r.X(f((new Date).getTime())),this.ORDER_DIRECTION=c.H,this.orderKeys={"job.address":"Address","builder.name":"Builder name"},this.orderBy$=new r.X("builder.name"),this.orderDirection$=new r.X(c.H.DESC),this.hasNextPage$=new r.X(!1),this.hasPreviousPage$=new r.X(!1),this.paginate$=new r.X(0),this.search$=this.searchSerice.search$,this.jobs=[],this.extraData=[],this.notes="",this.priority="",this.cost=""}get selectedDayCtrl(){return this.dateForm.get("selectedDay")}ngOnInit(){this.searchForm=this.fb.group({searchCtrl:[""]}),(0,a.aj)([this.selectedDay$]).pipe((0,s.q)(1)).subscribe(([t])=>{this.dateForm=this.fb.group({selectedDate:[x(t).utc().format("MMM D, dddd")]})}),(0,a.aj)([this.selectedDay$,this.orderBy$,this.orderDirection$,this.paginate$,this.search$.pipe((0,d.x)())]).pipe((0,l.R)(this.destroy$),(0,p.b)(([t])=>{this.dateForm=this.fb.group({selectedDay:[x(t).utc().format("MMM D, dddd")]})}),(0,p.b)(()=>{this.getReport()})).subscribe()}getReport(){(0,a.aj)([this.selectedDay$,this.orderBy$,this.orderDirection$,this.paginate$,this.search$.pipe((0,d.x)())]).pipe((0,s.q)(1),(0,u.b)(([t,e,n,o,i])=>this.jobsForDateGQL.fetch({date:t,orderBy:`${n}${e}`,pagination:{page:o},search:i})),(0,h.U)(t=>t.data.report.jobsForDate),(0,p.b)(t=>{this.hasNextPage$.next(t.pageInfo.hasNextPage),this.hasPreviousPage$.next(t.pageInfo.hasPreviousPage),this.previousPage=t.pageInfo.previousPage,this.nextPage=t.pageInfo.nextPage}),(0,h.U)(t=>t.items),(0,p.b)(t=>this.dataSource$.next(t))).subscribe(t=>{this.jobs=t,console.log(this.jobs)})}changeSorting(t){(0,a.aj)(this.orderBy$,this.orderDirection$).pipe((0,s.q)(1)).subscribe(([e,n])=>{e===t?this.orderDirection$.next(n===c.H.ASC?c.H.DESC:c.H.ASC):this.orderBy$.next(t)})}get searchCtrl(){return this.searchForm.get("searchCtrl")}getStaff(t){return Array.isArray(t)&&t.length?t.map(t=>null==t?void 0:t.name).join(", "):""}getEquipment(t){return Array.isArray(t)&&t.length?t.map(t=>null==t?void 0:t.name).join(", "):""}generateSpreadSheet(){let t="";(0,a.aj)([this.selectedDay$,this.orderBy$,this.orderDirection$,this.search$.pipe((0,d.x)())]).pipe((0,s.q)(1),(0,p.b)(([e])=>t=e),(0,u.b)(([t,e,n,o])=>this.jobsForDateFullListGQL.fetch({date:t,orderBy:`${n}${e}`,search:o})),(0,h.U)(t=>t.data.report.jobsForDateFullList),(0,p.b)(e=>{let n="daily_report.csv";const o=t.match(/^(\d{4})-(\d{2})-(\d{2})/);o&&o[1]&&o[2]&&o[3]&&(n=`jobs_daily_${o[3]}-${o[2]}-${o[1]}.csv`),new m.ExportToCsv({filename:n,fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,useTextFile:!1,useBom:!0,headers:["ID","Trade Name","Builder Name","Site Address","Stage","Notes","Cost"]}).generateCsv(e)})).subscribe()}findIndex(t){return this.jobs.findIndex(e=>e.id===t)}updateNotes(t,e,n){"jobs"==e?this.jobs[this.jobs.findIndex(t=>t.id===n)].notes=null==t?void 0:t.target.value:"extra"==e&&(this.extraData[Number(n)].notes=null==t?void 0:t.target.value)}updateInovice(t,e,n){"jobs"==e?this.jobs[this.jobs.findIndex(t=>t.id===n)].inovice=null==t?void 0:t.target.value:"extra"==e&&(this.extraData[Number(n)].inovice=null==t?void 0:t.target.value)}updateStages(t,e,n){"jobs"===e?this.jobs[this.jobs.findIndex(t=>t.id===n)].cost=null==t?void 0:t.target.value:"extra"===e&&(this.extraData[Number(n)].stages=null==t?void 0:t.target.value)}updateCost(t,e,n){"jobs"===e?this.jobs[this.jobs.findIndex(t=>t.id===n)].cost=null==t?void 0:t.target.value:"extra"===e&&(this.extraData[Number(n)].cost=null==t?void 0:t.target.value)}duplicateRow(t){let e=this.jobs[this.findIndex(t)];this.extraData.push(Object.assign({},e)),this.getAllStages(this.extraData.length-1)}getAllStages(t){this.extraData[t].stages="";for(let e of this.extraData[t].equipment)this.extraData[t].stages+=e.name+", "}printReport(){console.log(this.jobs,this.extraData);var t=window.open("","PRINT","height=720,width=1280");null==t||t.document.write("<html><head><title>DFOBOBCAT - Report for the day</title>"),null==t||t.document.write("</head><body >"),null==t||t.document.write("<h1>Report for the day</h1>"),null==t||t.document.write("<table style = 'width:100%;border: 2px solid black;'>"),null==t||t.document.write("<tr style = 'border:2px solid black;'>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>ID</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Trade Name</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Builder Name</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Address</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Stage</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Notes</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Cost</td>"),null==t||t.document.write("<td style = 'font-weight:bold; border:2px solid black;'>Inovice</td>"),null==t||t.document.write("</tr>");for(let e of this.jobs){null==t||t.document.write("<tr style = 'border-bottom:1px solid black;'>"),null==t||t.document.write("<td>"+e.id+"</td>"),null==t||t.document.write("<td>");for(let n of e.staff)null==t||t.document.write(n.name+", ");null==t||t.document.write("</td>"),null==t||t.document.write("<td>"+e.builder.name+"</td>"),null==t||t.document.write("<td>"+e.address+"</td>"),null==t||t.document.write("<td>");for(let n of e.equipment)null==t||t.document.write(n.name+", ");null==t||t.document.write("</td>"),null==t||t.document.write("<td>"+e.notes+"</td>"),null==t||t.document.write("<td>"+e.cost+"</td>"),null==t||t.document.write("<td>"+e.inovice+"</td>"),null==t||t.document.write("</tr>")}for(let e of this.extraData){null==t||t.document.write("<tr style = 'border-bottom:1px solid black;'>"),null==t||t.document.write("<td>"+e.id+"</td>"),null==t||t.document.write("<td>");for(let n of e.staff)null==t||t.document.write(n.name+", ");null==t||t.document.write("</td>"),null==t||t.document.write("<td>"+e.builder.name+"</td>"),null==t||t.document.write("<td>"+e.address+"</td>"),null==t||t.document.write("<td>"),null==t||t.document.write(e.stages),null==t||t.document.write("</td>"),null==t||t.document.write("<td>"+e.notes+"</td>"),null==t||t.document.write("<td>"+e.cost+"</td>"),null==t||t.document.write("<td>"+e.inovice+"</td>"),null==t||t.document.write("</tr>")}return null==t||t.document.write("</body></html>"),null==t||t.document.close(),null==t||t.focus(),null==t||t.print(),null==t||t.close(),!0}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(w.qu),b.Y36(g.Bu),b.Y36(g.pj),b.Y36(_.o))},t.\u0275cmp=b.Xpm({type:t,selectors:[["bc-daily-job-report"]],decls:7,vars:15,consts:[[4,"ngIf"],["noItemsTemplate",""],[1,"component-wrapper"],["componentWrapper",""],[1,"desktop-table-wrapper"],[1,"pagination-controls","actions"],[1,"sorting"],[3,"active","click",4,"ngFor","ngForOf"],[1,"pagination"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"prev",3,"click"],["d","M0 0h24v24H0z","fill","none"],["d","M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"next",3,"click"],["d","M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],[1,"controls"],[3,"control","label","selected"],["type","button","expand","block","size","medium","shape","round",3,"click"],["cdk-table","","fixedLayout","","class","report-job-for-day-desktop","id","printable",3,"dataSource",4,"ngIf","ngIfElse"],["style","border: 1px solid rgb(151, 151, 151);border-radius: 10px;",4,"ngIf"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["d","M0 0h24v24H0V0z","fill","none"],["d","m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"],["d","m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"],["cdk-table","","fixedLayout","","id","printable",1,"report-job-for-day-desktop",3,"dataSource"],["cdkColumnDef","id"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdkColumnDef","staff"],["cdkColumnDef","builder"],["cdkColumnDef","address"],["cdkColumnDef","equipment"],["cdkColumnDef","notes"],["cdkColumnDef","cost"],["cdkColumnDef","inv"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["name","copy-outline","color","danger",3,"click"],[3,"ionInput"],["cdk-header-row",""],["cdk-row",""],[2,"border","1px solid rgb(151, 151, 151)","border-radius","10px"],[2,"width","100%"],[4,"ngFor","ngForOf"],[1,"centerData",2,"width","70px"],[2,"width","70px","padding-left","30px"],[2,"width","70px","padding-left","45px"],[2,"width","180px","padding-left","70px"],[2,"width","110px","padding-left","35px"],[3,"value","ionInput"],[2,"padding-left","35px"],[2,"padding-left","30px"]],template:function(t,e){if(1&t&&(b.YNc(0,et,25,12,"ng-container",0),b.ALo(1,"async"),b.ALo(2,"async"),b.ALo(3,"async"),b.ALo(4,"async"),b.YNc(5,nt,1,0,"ng-template",null,1,b.W1O)),2&t){let t;b.Q6J("ngIf",b.l5B(10,it,b.lcZ(1,1,e.dataSource$)||b.DdM(9,ot),(null==(t=b.lcZ(2,3,e.dataSource$))?null:t.length)||0,b.lcZ(3,5,e.hasPreviousPage$),b.lcZ(4,7,e.hasNextPage$)))}},directives:[Z.O5,Z.sg,P,C.YG,M.zC,M.fo,M.D5,M.O_,M.s$,M.Sq,M.Af,M.hD,C.gu,C.g2,C.j9,C.pK,M.xN,M._J],pipes:[Z.Ov,Z.Nd],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:flex-start;padding:0 126px 0 48px;height:108px;border-bottom:1px solid #cfd8dc}.dashboard-header[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:50px;width:327px;margin-right:85px}.dashboard-header[_ngcontent-%COMP%]   bc-input[_ngcontent-%COMP%]{margin-right:85px}.dashboard-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:30px;line-height:36px}.action-btn[_ngcontent-%COMP%]{width:auto;height:2em;font-size:11px;--color:#004853;--border-width:1px;--border-style:solid;--background:#cfd8dc;--background-activated:#cfd8dc;--background-focused:#cfd8dc}.action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#231f20}.action-btn[_ngcontent-%COMP%]:hover{--background:#193044;--color:#cfd8dc}.action-btn[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#cfd8dc}.user-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#004853}ion-button.action-btn[_ngcontent-%COMP%]{width:auto;height:32px;font-size:11px;line-height:22px;--color:#004853;--border-width:1px;--border-style:solid;--background:#cfd8dc;--background-activated:#cfd8dc;--background-focused:#cfd8dc}.component-wrapper[_ngcontent-%COMP%]{border-top:1px solid #cfd8dc;padding-left:48px;padding-bottom:144px;padding-top:12px}.desktop-table-wrapper[_ngcontent-%COMP%]{height:100%;max-width:1200px;overflow-x:auto}.add-new-user[_ngcontent-%COMP%]{position:fixed;background:#f8fafb;width:100%;height:114px;display:flex;align-items:center;padding-left:48px;bottom:0;margin-left:-48px}.main-action-btn[_ngcontent-%COMP%]{--padding-start:75px;--padding-end:75px;--padding-top:16px;--padding-bottom:16px;--color:#004853}.main-action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#004853;display:inline-block;margin-right:8px}.main-action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.5px}.controls[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:28px;display:flex;flex-flow:row nowrap}.controls[_ngcontent-%COMP%]   bc-datepicker-dropdown[_ngcontent-%COMP%]{width:100%;max-width:18rem}.controls[_ngcontent-%COMP%]   bc-datepicker-dropdown[_ngcontent-%COMP%]:first-of-type{margin-right:1rem}[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;height:100%}.component-wrapper[_ngcontent-%COMP%]{flex:1 0 auto}.centerData[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),t})();var at=n(6610);const ct=function(){return["/admin","reports","worked-hours"]},st=function(){return["/admin","reports","daily-jobs"]};let dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Xpm({type:t,selectors:[["bc-report-tabs"]],decls:11,vars:4,consts:[["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,e){1&t&&(b.TgZ(0,"bc-admin-header"),b._uU(1,"Reports"),b.qZA(),b.TgZ(2,"nav"),b.TgZ(3,"ul"),b.TgZ(4,"li",0),b.TgZ(5,"a"),b._uU(6,"Worked Hours"),b.qZA(),b.qZA(),b.TgZ(7,"li",0),b.TgZ(8,"a"),b._uU(9,"Jobs For a Day"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b._UZ(10,"router-outlet")),2&t&&(b.xp6(4),b.Q6J("routerLink",b.DdM(2,ct)),b.xp6(3),b.Q6J("routerLink",b.DdM(3,st)))},directives:[at.W,o.Od,o.rH,C.YI,o.lC],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;padding:0 86px 0 48px;height:108px}.dashboard-header[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:50px;width:327px;margin-right:85px}.dashboard-header[_ngcontent-%COMP%]   bc-input[_ngcontent-%COMP%]{margin-right:85px}.dashboard-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:30px;line-height:36px}nav[_ngcontent-%COMP%]{border-bottom:1px solid #cfd8dc}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:flex-start;list-style-type:none;padding-left:72px;margin:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:62px;cursor:pointer}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:20px;line-height:24px;padding-bottom:10px;color:#78909c;text-decoration:none;display:block;min-width:136px}nav[_ngcontent-%COMP%]   li.router-link-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border-bottom:2px solid #004853;color:#193044}"],changeDetection:0}),t})(),lt=(()=>{class t{transform(t){const e=Number(t);if(0===e||!e)return"00:00";let n=""+e/60,o=""+e%60;return o=1==o.length?0+o:o,n=1==n.length?0+n:n,`${n}:${o}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=b.Yjl({name:"time",type:t,pure:!0}),t})();function pt(t,e){1&t&&(b.O4$(),b.TgZ(0,"svg",26),b._UZ(1,"path",27),b._UZ(2,"path",28),b.qZA())}function ut(t,e){1&t&&(b.O4$(),b.TgZ(0,"svg",26),b._UZ(1,"path",27),b._UZ(2,"path",29),b.qZA())}function ht(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"li",24),b.NdJ("click",function(){const e=b.CHM(t).$implicit;return b.oxw(2).changeSorting(e.key)}),b.ALo(1,"async"),b.TgZ(2,"span"),b._uU(3),b.qZA(),b.YNc(4,pt,3,0,"svg",25),b.ALo(5,"async"),b.YNc(6,ut,3,0,"svg",25),b.ALo(7,"async"),b.qZA()}if(2&t){const t=e.$implicit,n=b.oxw(2);b.ekj("active",b.lcZ(1,5,n.orderBy$)===t.key),b.xp6(3),b.Oqu(t.value),b.xp6(1),b.Q6J("ngIf",b.lcZ(5,7,n.orderDirection$)===n.ORDER_DIRECTION.ASC),b.xp6(2),b.Q6J("ngIf",b.lcZ(7,9,n.orderDirection$)===n.ORDER_DIRECTION.DESC)}}function gt(t,e){1&t&&(b.TgZ(0,"th",30),b._uU(1,"Photo"),b.qZA())}function ft(t,e){1&t&&(b.TgZ(0,"td",31),b.TgZ(1,"div",32),b._UZ(2,"ion-icon",33),b.qZA(),b.qZA())}function xt(t,e){1&t&&(b.TgZ(0,"th",30),b._uU(1,"Name"),b.qZA())}function mt(t,e){if(1&t&&(b.TgZ(0,"td",31),b._uU(1),b.qZA()),2&t){const t=e.$implicit;b.xp6(1),b.hij(" ",t.name," ")}}function bt(t,e){1&t&&(b.TgZ(0,"th",30),b._uU(1,"E-Mail"),b.qZA())}function wt(t,e){if(1&t&&(b.TgZ(0,"td",31),b._uU(1),b.qZA()),2&t){const t=e.$implicit;b.xp6(1),b.hij(" ",t.email," ")}}function _t(t,e){1&t&&(b.TgZ(0,"th",30),b._uU(1,"Time Worked"),b.qZA())}function Zt(t,e){if(1&t&&(b.TgZ(0,"td",31),b._uU(1),b.ALo(2,"time"),b.qZA()),2&t){const t=e.$implicit;b.xp6(1),b.hij(" ",b.lcZ(2,1,t.totalWorkedHours)," ")}}function kt(t,e){1&t&&b._UZ(0,"tr",34)}function vt(t,e){1&t&&b._UZ(0,"tr",35)}function Ct(t,e){if(1&t){const t=b.EpF();b.ynx(0),b.TgZ(1,"div",1,2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"ul",5),b.YNc(6,ht,8,11,"li",6),b.ALo(7,"keyvalue"),b.qZA(),b.TgZ(8,"div",7),b.O4$(),b.TgZ(9,"svg",8),b.NdJ("click",function(){const e=b.CHM(t).ngIf,n=b.oxw();return e.hasPreviousPage?n.paginate$.next(n.previousPage):null}),b._UZ(10,"path",9),b._UZ(11,"path",10),b.qZA(),b.TgZ(12,"svg",11),b.NdJ("click",function(){const e=b.CHM(t).ngIf,n=b.oxw();return e.hasNextPage?n.paginate$.next(n.nextPage):null}),b._UZ(13,"path",9),b._UZ(14,"path",12),b.qZA(),b.qZA(),b.qZA(),b.kcU(),b.TgZ(15,"div",13),b.TgZ(16,"bc-datepicker-dropdown",14),b.NdJ("selected",function(e){return b.CHM(t),b.oxw().startRange$.next(e)}),b.qZA(),b.TgZ(17,"bc-datepicker-dropdown",14),b.NdJ("selected",function(e){return b.CHM(t),b.oxw().endRange$.next(e)}),b.qZA(),b.qZA(),b.TgZ(18,"table",15),b.ynx(19,16),b.YNc(20,gt,2,0,"th",17),b.YNc(21,ft,3,0,"td",18),b.BQk(),b.ynx(22,19),b.YNc(23,xt,2,0,"th",17),b.YNc(24,mt,2,1,"td",18),b.BQk(),b.ynx(25,20),b.YNc(26,bt,2,0,"th",17),b.YNc(27,wt,2,1,"td",18),b.BQk(),b.ynx(28,21),b.YNc(29,_t,2,0,"th",17),b.YNc(30,Zt,3,3,"td",18),b.BQk(),b.YNc(31,kt,1,0,"tr",22),b.YNc(32,vt,1,0,"tr",23),b.qZA(),b.qZA(),b.qZA(),b.BQk()}if(2&t){const t=e.ngIf,n=b.oxw();b.xp6(6),b.Q6J("ngForOf",b.lcZ(7,12,n.orderKeys)),b.xp6(3),b.ekj("disabled",!t.hasPreviousPage),b.xp6(3),b.ekj("disabled",!t.hasNextPage),b.xp6(4),b.Q6J("control",n.startDateCtrl)("label","Select start date"),b.xp6(1),b.Q6J("control",n.endDateCtrl)("label","Select end date"),b.xp6(1),b.Q6J("dataSource",n.dataSource$),b.xp6(13),b.Q6J("cdkHeaderRowDef",n.displayedColumns),b.xp6(1),b.Q6J("cdkRowDefColumns",n.displayedColumns)}}const Ot=function(){return[]},yt=function(t,e,n){return{reportItems:t,hasPreviousPage:e,hasNextPage:n}},Dt=[{path:"",component:dt,children:[{path:"",redirectTo:"worked-hours",pathMatch:"full"},{path:"worked-hours",component:(()=>{class t{constructor(t,e,n){this.fb=t,this.totalWorkedHoursGQL=e,this.searchSerice=n,this.searchSubmit$=new i.xQ,this.dataSource$=new r.X([]),this.displayedColumns=["photo","name","email","hours"],this.destroy$=new i.xQ,this.now=new Date,this.startRange$=new r.X(f(new Date(this.now.getFullYear(),this.now.getMonth(),1).getTime())),this.endRange$=new r.X(f(new Date(this.now.getFullYear(),this.now.getMonth()+1,0).getTime())),this.ORDER_DIRECTION=c.H,this.orderKeys={'"totalWorkedHours"':"Time worked","user.name":"Name"},this.orderBy$=new r.X('"totalWorkedHours"'),this.orderDirection$=new r.X(c.H.DESC),this.hasNextPage$=new r.X(!1),this.hasPreviousPage$=new r.X(!1),this.paginate$=new r.X(0),this.search$=this.searchSerice.search$}get startDateCtrl(){return this.dateRangeForm.get("startDate")}get endDateCtrl(){return this.dateRangeForm.get("endDate")}ngOnInit(){this.searchForm=this.fb.group({searchCtrl:[""]}),(0,a.aj)([this.startRange$,this.endRange$]).pipe((0,s.q)(1)).subscribe(([t,e])=>{this.dateRangeForm=this.fb.group({startDate:[x(t).utc().format("MMM D, dddd")],endDate:[x(e).utc().format("MMM D, dddd")]})}),(0,a.aj)([this.startRange$,this.endRange$,this.orderBy$,this.orderDirection$,this.paginate$,this.search$.pipe((0,d.x)())]).pipe((0,l.R)(this.destroy$),(0,p.b)(([t,e])=>{this.dateRangeForm=this.fb.group({startDate:[x(t).utc().format("MMM D, dddd")],endDate:[x(e).utc().format("MMM D, dddd")]})}),(0,p.b)(()=>{this.getReport()})).subscribe()}getReport(){(0,a.aj)([this.startRange$,this.endRange$,this.orderBy$,this.orderDirection$,this.paginate$,this.search$.pipe((0,d.x)())]).pipe((0,s.q)(1),(0,u.b)(([t,e,n,o,i,r])=>this.totalWorkedHoursGQL.fetch({startDate:t,endDate:e,orderBy:`${o}${n}`,pagination:{page:i},search:r})),(0,h.U)(t=>t.data.report.totalWorkedHours),(0,p.b)(t=>{this.hasNextPage$.next(t.pageInfo.hasNextPage),this.hasPreviousPage$.next(t.pageInfo.hasPreviousPage),this.previousPage=t.pageInfo.previousPage,this.nextPage=t.pageInfo.nextPage}),(0,h.U)(t=>t.items),(0,p.b)(t=>this.dataSource$.next(t))).subscribe()}changeSorting(t){(0,a.aj)(this.orderBy$,this.orderDirection$).pipe((0,s.q)(1)).subscribe(([e,n])=>{e===t?this.orderDirection$.next(n===c.H.ASC?c.H.DESC:c.H.ASC):this.orderBy$.next(t)})}get searchCtrl(){return this.searchForm.get("searchCtrl")}ngOnDestroy(){this.destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(w.qu),b.Y36(g.l8),b.Y36(_.o))},t.\u0275cmp=b.Xpm({type:t,selectors:[["dfobobcat-report"]],decls:4,vars:12,consts:[[4,"ngIf"],[1,"component-wrapper"],["componentWrapper",""],[1,"desktop-table-wrapper"],[1,"pagination-controls","actions"],[1,"sorting"],[3,"active","click",4,"ngFor","ngForOf"],[1,"pagination"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"prev",3,"click"],["d","M0 0h24v24H0z","fill","none"],["d","M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"next",3,"click"],["d","M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],[1,"controls"],[3,"control","label","selected"],["cdk-table","","fixedLayout","",1,"report-table-desktop",3,"dataSource"],["cdkColumnDef","photo"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdkColumnDef","name"],["cdkColumnDef","email"],["cdkColumnDef","hours"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["d","M0 0h24v24H0V0z","fill","none"],["d","m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"],["d","m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"],["cdk-header-cell",""],["cdk-cell",""],[1,"user-icon"],["src","/assets/icon/users.svg","alt",""],["cdk-header-row",""],["cdk-row",""]],template:function(t,e){1&t&&(b.YNc(0,Ct,33,14,"ng-container",0),b.ALo(1,"async"),b.ALo(2,"async"),b.ALo(3,"async")),2&t&&b.Q6J("ngIf",b.kEZ(8,yt,b.lcZ(1,1,e.dataSource$)||b.DdM(7,Ot),b.lcZ(2,3,e.hasPreviousPage$),b.lcZ(3,5,e.hasNextPage$)))},directives:[Z.O5,Z.sg,P,M.zC,M.fo,M.D5,M.O_,M.s$,M.Sq,M.Af,M.hD,C.gu,M.xN,M._J],pipes:[Z.Ov,Z.Nd,lt],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:flex-start;padding:0 126px 0 48px;height:108px;border-bottom:1px solid #cfd8dc}.dashboard-header[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:50px;width:327px;margin-right:85px}.dashboard-header[_ngcontent-%COMP%]   bc-input[_ngcontent-%COMP%]{margin-right:85px}.dashboard-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:30px;line-height:36px}.action-btn[_ngcontent-%COMP%]{width:auto;height:2em;font-size:11px;--color:#004853;--border-width:1px;--border-style:solid;--background:#cfd8dc;--background-activated:#cfd8dc;--background-focused:#cfd8dc}.action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#231f20}.action-btn[_ngcontent-%COMP%]:hover{--background:#193044;--color:#cfd8dc}.action-btn[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%]{color:#cfd8dc}.user-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#004853}ion-button.action-btn[_ngcontent-%COMP%]{width:auto;height:32px;font-size:11px;line-height:22px;--color:#004853;--border-width:1px;--border-style:solid;--background:#cfd8dc;--background-activated:#cfd8dc;--background-focused:#cfd8dc}.component-wrapper[_ngcontent-%COMP%]{border-top:1px solid #cfd8dc;padding-left:48px;padding-bottom:144px;padding-top:12px}.desktop-table-wrapper[_ngcontent-%COMP%]{height:100%;max-width:1200px;overflow-x:auto}.add-new-user[_ngcontent-%COMP%]{position:fixed;background:#f8fafb;width:100%;height:114px;display:flex;align-items:center;padding-left:48px;bottom:0;margin-left:-48px}.main-action-btn[_ngcontent-%COMP%]{--padding-start:75px;--padding-end:75px;--padding-top:16px;--padding-bottom:16px;--color:#004853}.main-action-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#004853;display:inline-block;margin-right:8px}.main-action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.5px}.controls[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:28px;display:flex;flex-flow:row nowrap}.controls[_ngcontent-%COMP%]   bc-datepicker-dropdown[_ngcontent-%COMP%]{width:100%;max-width:18rem}.controls[_ngcontent-%COMP%]   bc-datepicker-dropdown[_ngcontent-%COMP%]:first-of-type{margin-right:1rem}[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;height:100%}.component-wrapper[_ngcontent-%COMP%]{flex:1 0 auto}"],changeDetection:0}),t})()},{path:"daily-jobs",component:rt}]}];let Pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[o.Bz.forChild(Dt)],o.Bz]}),t})();var Mt=n(5967),At=n(7472),Tt=n(6731);let $t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({providers:[_.o],imports:[[Z.ez,Pt,Z.ez,C.Pc,o.Bz,Mt.C,w.UX,M.HT,At.U8,Tt.k]]}),t})()},8343:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.EOL="\r\n",t.BOM="\ufeff",t.DEFAULT_FIELD_SEPARATOR=",",t.DEFAULT_DECIMAL_SEPARATOR=".",t.DEFAULT_QUOTE='"',t.DEFAULT_SHOW_TITLE=!1,t.DEFAULT_TITLE="My Generated Report",t.DEFAULT_FILENAME="generated",t.DEFAULT_SHOW_LABELS=!1,t.DEFAULT_USE_TEXT_FILE=!1,t.DEFAULT_USE_BOM=!0,t.DEFAULT_HEADER=[],t.DEFAULT_KEYS_AS_HEADERS=!1,t}();e.CsvConfigConsts=n,e.ConfigDefaults={filename:n.DEFAULT_FILENAME,fieldSeparator:n.DEFAULT_FIELD_SEPARATOR,quoteStrings:n.DEFAULT_QUOTE,decimalSeparator:n.DEFAULT_DECIMAL_SEPARATOR,showLabels:n.DEFAULT_SHOW_LABELS,showTitle:n.DEFAULT_SHOW_TITLE,title:n.DEFAULT_TITLE,useTextFile:n.DEFAULT_USE_TEXT_FILE,useBom:n.DEFAULT_USE_BOM,headers:n.DEFAULT_HEADER,useKeysAsHeaders:n.DEFAULT_KEYS_AS_HEADERS};var o=function(){function t(t){this._csv="",this._options=c({},e.ConfigDefaults,t||{}),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=c({},e.ConfigDefaults,t)},enumerable:!0,configurable:!0}),t.prototype.generateCsv=function(t,e){if(void 0===e&&(e=!1),this._csv="",this._parseData(t),this._options.useBom&&(this._csv+=n.BOM),this._options.showTitle&&(this._csv+=this._options.title+"\r\n\n"),this._getHeaders(),this._getBody(),""!=this._csv){if(e)return this._csv;var o=this._options.useTextFile?".txt":".csv",i=new Blob([this._csv],{type:"text/"+(this._options.useTextFile?"plain":"csv")+";charset=utf8;"});if(navigator.msSaveBlob){var r=this._options.filename.replace(/ /g,"_")+o;navigator.msSaveBlob(i,r)}else{encodeURI(this._csv);var a=document.createElement("a");a.href=URL.createObjectURL(i),a.setAttribute("visibility","hidden"),a.download=this._options.filename.replace(/ /g,"_")+o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}else console.log("Invalid data")},t.prototype._getHeaders=function(){if(this._options.showLabels||this._options.useKeysAsHeaders){var t=this._options.useKeysAsHeaders?Object.keys(this._data[0]):this._options.headers;if(t.length>0){for(var e="",o=0;o<t.length;o++)e+=t[o]+this._options.fieldSeparator;e=e.slice(0,-1),this._csv+=e+n.EOL}}},t.prototype._getBody=function(){for(var t=Object.keys(this._data[0]),e=0;e<this._data.length;e++){for(var o="",i=0;i<t.length;i++)o+=this._formatData(this._data[e][t[i]])+this._options.fieldSeparator;o=o.slice(0,-1),this._csv+=o+n.EOL}},t.prototype._formatData=function(t){return"locale"===this._options.decimalSeparator&&this._isFloat(t)?t.toLocaleString():"."!==this._options.decimalSeparator&&this._isFloat(t)?t.toString().replace(".",this._options.decimalSeparator):"string"==typeof t?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):"boolean"==typeof t?t?"TRUE":"FALSE":t},t.prototype._isFloat=function(t){return+t===t&&(!isFinite(t)||Boolean(t%1))},t.prototype._parseData=function(t){return this._data="object"!=typeof t?JSON.parse(t):t,this._data},t}();e.ExportToCsv=o;var i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function c(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];for(var c,s=a(t),d=1;d<arguments.length;d++){for(var l in e=Object(arguments[d]))i.call(e,l)&&(s[l]=e[l]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(e);for(var p=0;p<c.length;p++)r.call(e,c[p])&&(s[c[p]]=e[c[p]])}}return s}},2896:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(8343))}}]);